-- Обновление категорий и товаров

-- Удаляем старые данные
DELETE FROM market.products;
DELETE FROM market.categories;

-- Сбрасываем sequences
ALTER SEQUENCE market.categories_id_seq RESTART WITH 1;
ALTER SEQUENCE market.products_id_seq RESTART WITH 1;

-- Создаем категории
INSERT INTO market.categories (name, description, created_at, updated_at) VALUES
('Овощи и фрукты', 'Свежие овощи, фрукты, зелень', NOW(), NOW()),
('Мясо, птица, рыба', 'Свежее мясо, птица, рыба', NOW(), NOW()),
('Молочные продукты', 'Молоко, сыр, творог, йогурты', NOW(), NOW()),
('Зерно', 'Крупы, мука, зерновые', NOW(), NOW()),
('Мед', 'Натуральный мед и продукты пчеловодства', NOW(), NOW()),
('Готовые продукты', 'Готовая еда, консервы, заготовки', NOW(), NOW());

-- Создаем товары
INSERT INTO market.products (name, description, price, category_id, in_stock, created_at, updated_at) VALUES
-- Овощи и фрукты (category_id = 1)
('Яблоки', 'Свежие яблоки Гренни Смит', 89.90, 1, true, NOW(), NOW()),
('Бананы', 'Спелые бананы', 69.90, 1, true, NOW(), NOW()),
('Помидоры', 'Свежие помидоры', 149.90, 1, true, NOW(), NOW()),
('Огурцы', 'Хрустящие огурцы', 119.90, 1, true, NOW(), NOW()),
('Картофель', 'Картофель молодой', 45.90, 1, true, NOW(), NOW()),

-- Мясо, птица, рыба (category_id = 2)
('Курица', 'Куриная грудка охлажденная', 299.90, 2, true, NOW(), NOW()),
('Говядина', 'Говядина вырезка', 599.90, 2, true, NOW(), NOW()),
('Свинина', 'Свинина корейка', 399.90, 2, true, NOW(), NOW()),
('Рыба', 'Семга свежая', 799.90, 2, true, NOW(), NOW()),

-- Молочные продукты (category_id = 3)
('Молоко', 'Молоко 3.2% 1л', 79.90, 3, true, NOW(), NOW()),
('Сыр', 'Сыр Российский', 399.90, 3, true, NOW(), NOW()),
('Творог', 'Творог 9%', 129.90, 3, true, NOW(), NOW()),
('Йогурт', 'Йогурт натуральный', 89.90, 3, true, NOW(), NOW()),

-- Зерно (category_id = 4)
('Гречка', 'Гречка ядрица 1кг', 89.90, 4, true, NOW(), NOW()),
('Рис', 'Рис круглозерный 1кг', 79.90, 4, true, NOW(), NOW()),
('Мука', 'Мука пшеничная высший сорт 2кг', 69.90, 4, true, NOW(), NOW()),
('Овсянка', 'Овсяные хлопья 500г', 59.90, 4, true, NOW(), NOW()),

-- Мед (category_id = 5)
('Мед цветочный', 'Натуральный цветочный мед 500г', 499.90, 5, true, NOW(), NOW()),
('Мед липовый', 'Натуральный липовый мед 500г', 599.90, 5, true, NOW(), NOW()),
('Мед гречишный', 'Натуральный гречишный мед 500г', 549.90, 5, true, NOW(), NOW()),

-- Готовые продукты (category_id = 6)
('Хлеб', 'Хлеб белый', 45.90, 6, true, NOW(), NOW()),
('Пельмени', 'Пельмени домашние 500г', 199.90, 6, true, NOW(), NOW()),
('Вареники', 'Вареники с картошкой 500г', 179.90, 6, true, NOW(), NOW()),
('Консервы', 'Тушенка говяжья 500г', 299.90, 6, true, NOW(), NOW());

-- Статистика
SELECT 'Категорий' as type, COUNT(*) as count FROM market.categories
UNION ALL
SELECT 'Товаров', COUNT(*) FROM market.products;
