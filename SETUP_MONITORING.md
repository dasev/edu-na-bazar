# üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## –í–∞—Ä–∏–∞–Ω—Ç 1: Telegram Bot (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä—ã—Ç—å [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É: `/newbot`
3. –£–∫–∞–∑–∞—Ç—å –∏–º—è –±–æ—Ç–∞: `–ï–¥—É –Ω–∞ –±–∞–∑–∞—Ä Monitor`
4. –£–∫–∞–∑–∞—Ç—å username: `edunabazar_monitor_bot` (–∏–ª–∏ –ª—é–±–æ–π —Å–≤–æ–±–æ–¥–Ω—ã–π)
5. –ü–æ–ª—É—á–∏—Ç—å **BOT_TOKEN** (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å!)

–ü—Ä–∏–º–µ—Ä:
```
Done! Congratulations on your new bot.
You will find it at t.me/edunabazar_monitor_bot
Use this token to access the HTTP API:
1234567890:ABCdefGHIjklMNOpqrsTUVwxyz1234567890
```

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç—å CHAT_ID

1. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–∞—à–µ–º—É –±–æ—Ç—É
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É (–∑–∞–º–µ–Ω–∏—Ç—å YOUR_BOT_TOKEN):
   ```bash
   curl https://api.telegram.org/botYOUR_BOT_TOKEN/getUpdates
   ```
3. –ù–∞–π—Ç–∏ –≤ –æ—Ç–≤–µ—Ç–µ: `"chat":{"id":123456789}`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å **CHAT_ID** (—á–∏—Å–ª–æ)

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@your_server_ip

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/edu-na-bazar

# –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω)
# –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é:
nano uptime-monitor.sh
# –í—Å—Ç–∞–≤–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ uptime-monitor.sh

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x uptime-monitor.sh

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
nano uptime-monitor.sh
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∫—Ä–∏–ø—Ç

–ó–∞–º–µ–Ω–∏—Ç—å –≤ `uptime-monitor.sh`:

```bash
# –í–∞—à BOT_TOKEN –∏–∑ —à–∞–≥–∞ 1
BOT_TOKEN="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz1234567890"

# –í–∞—à CHAT_ID –∏–∑ —à–∞–≥–∞ 2
CHAT_ID="123456789"

# –í–∞—à –¥–æ–º–µ–Ω
FRONTEND_URL="https://yourdomain.com"
API_HEALTH_URL="https://yourdomain.com/api/health"
API_CATEGORIES_URL="https://yourdomain.com/api/categories"
```

### –®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é
./uptime-monitor.sh

# –î–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram (–µ—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)
# –ò–ª–∏ –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏: ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ OK
```

### –®–∞–≥ 6: –î–æ–±–∞–≤–∏—Ç—å –≤ cron

```bash
# –û—Ç–∫—Ä—ã—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç):
*/5 * * * * /opt/edu-na-bazar/uptime-monitor.sh >> /var/log/uptime-monitor.log 2>&1

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏ (Ctrl+X, Y, Enter)

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–æ—Å—å
crontab -l
```

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç —Å–∫—Ä–∏–ø—Ç –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Frontend
- ‚úÖ –†–∞–±–æ—Ç—É API
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–î
- ‚úÖ –°—Ç–∞—Ç—É—Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- ‚úÖ –ù–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU
- ‚úÖ –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –ø—Ä–∏–¥–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram!

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: UptimeRobot (3 –º–∏–Ω—É—Ç—ã)

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://uptimerobot.com
2. –ù–∞–∂–∞—Ç—å "Sign Up Free"
3. –£–∫–∞–∑–∞—Ç—å email –∏ –ø–∞—Ä–æ–ª—å
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä—ã

**Monitor 1: Frontend**
- –ù–∞–∂–∞—Ç—å "+ Add New Monitor"
- Monitor Type: `HTTP(s)`
- Friendly Name: `–ï–¥—É –Ω–∞ –±–∞–∑–∞—Ä - Frontend`
- URL: `https://yourdomain.com`
- Monitoring Interval: `5 minutes`
- –ù–∞–∂–∞—Ç—å "Create Monitor"

**Monitor 2: API Health**
- –ù–∞–∂–∞—Ç—å "+ Add New Monitor"
- Monitor Type: `HTTP(s)`
- Friendly Name: `–ï–¥—É –Ω–∞ –±–∞–∑–∞—Ä - API`
- URL: `https://yourdomain.com/api/health`
- Monitoring Interval: `5 minutes`
- Advanced Settings ‚Üí Keyword Monitoring:
  - Keyword Type: `Exists`
  - Keyword Value: `ok`
- –ù–∞–∂–∞—Ç—å "Create Monitor"

**Monitor 3: Database (—á–µ—Ä–µ–∑ API)**
- –ù–∞–∂–∞—Ç—å "+ Add New Monitor"
- Monitor Type: `HTTP(s)`
- Friendly Name: `–ï–¥—É –Ω–∞ –±–∞–∑–∞—Ä - Database`
- URL: `https://yourdomain.com/api/categories`
- Monitoring Interval: `5 minutes`
- –ù–∞–∂–∞—Ç—å "Create Monitor"

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ "My Settings" ‚Üí "Alert Contacts"
2. –ù–∞–∂–∞—Ç—å "+ Add Alert Contact"
3. –í—ã–±—Ä–∞—Ç—å —Ç–∏–ø:
   - **Email** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
   - **Telegram** (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, —á–µ—Ä–µ–∑ –±–æ—Ç–∞)
   - **Webhook** (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
   - **SMS** (–ø–ª–∞—Ç–Ω–æ)

**–î–ª—è Telegram:**
- Alert Contact Type: `Telegram`
- Friendly Name: `Telegram Alerts`
- –ù–∞–∂–∞—Ç—å "Get Telegram ID"
- –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
- –ù–∞–∂–∞—Ç—å "Create Alert Contact"

### –®–∞–≥ 4: –°–æ–∑–¥–∞—Ç—å Status Page (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –ü–µ—Ä–µ–π—Ç–∏ –≤ "Public Status Pages"
2. –ù–∞–∂–∞—Ç—å "+ Add New Status Page"
3. –í—ã–±—Ä–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∏–∑–∞–π–Ω
5. –ü–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Å—ã–ª–∫—É: `https://stats.uptimerobot.com/your-page`

### ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å UptimeRobot –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤–∞—à —Å–∞–π—Ç –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –∏ –ø—Ä–∏—Å—ã–ª–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–±–æ—è—Ö!

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏:

- **UptimeRobot** - –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑–≤–Ω–µ)
- **Telegram Bot** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, —Ä–µ—Å—É—Ä—Å—ã)

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –î–≤–æ–π–Ω–∞—è –∑–∞—â–∏—Ç–∞
- ‚úÖ –í–Ω–µ—à–Ω–∏–π + –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –†–∞–∑–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ë–æ–ª–µ–µ –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞

---

## üîß Troubleshooting

### Telegram Bot –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å BOT_TOKEN
curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getMe

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ
# –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ - —Ç–æ–∫–µ–Ω –Ω–µ–≤–µ—Ä–Ω—ã–π

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CHAT_ID
curl https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates

# –ù–∞–π—Ç–∏ "chat":{"id":123456789}
# –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
```

### –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ cron

**–ü—Ä–æ–±–ª–µ–º–∞:** –í—Ä—É—á–Ω—É—é —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–∑ cron - –Ω–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏ –∫ –∫–æ–º–∞–Ω–¥–∞–º
# –í –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–∞:
export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏:
/usr/bin/docker ps
/usr/bin/curl https://...
```

### UptimeRobot –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "Down", –Ω–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–≤–µ–ª–∏—á–∏—Ç—å "Monitor Timeout" –¥–æ 60 —Å–µ–∫—É–Ω–¥
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
3. –î–æ–±–∞–≤–∏—Ç—å IP UptimeRobot –≤ whitelist (–µ—Å–ª–∏ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

---

## üìä –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ –±–∞–∑–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

1. **Grafana + Prometheus** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
2. **Sentry** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –∫–æ–¥–µ
3. **Logrotate** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤
4. **Backup –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ backup'–æ–≤

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ `UPTIME_MONITORING.md`

---

**–í—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- Telegram Bot: 5 –º–∏–Ω—É—Ç
- UptimeRobot: 3 –º–∏–Ω—É—Ç—ã
- –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: 10 –º–∏–Ω—É—Ç

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
