# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï - –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã enb

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–ø—ã—Ç–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–æ–≤

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- ‚úÖ –§–∞–π–ª—ã `.ibd` –∏ `.frm` —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ MariaDB
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –≤–∏–¥–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (SHOW TABLES —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚ùå –î–∞–Ω–Ω—ã–µ –ù–ï —á–∏—Ç–∞—é—Ç—Å—è (COUNT(*) –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–ü—Ä–∏—á–∏–Ω–∞:**
–§–∞–π–ª—ã `.ibd` —Å–æ–∑–¥–∞–Ω—ã –≤ **MySQL 5.7** –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å **MariaDB 12.1**

---

## üéØ –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –†–ê–ë–û–ß–ï–ï –†–ï–®–ï–ù–ò–ï

### –ù—É–∂–µ–Ω MySQL 5.7 –¥–ª—è —á—Ç–µ–Ω–∏—è –≤–∞—à–∏—Ö —Ñ–∞–π–ª–æ–≤!

**–ü–æ—á–µ–º—É:**
- –í–∞—à–∏ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –≤ MySQL 5.7
- MariaDB 12.1 –Ω–µ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç InnoDB
- –≠—Ç–æ –Ω–µ –±–∞–≥, —ç—Ç–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π

---

## üöÄ –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø (15 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –°–∫–∞—á–∞—Ç—å MySQL 5.7.44 (5 –º–∏–Ω—É—Ç)

**–ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞:**
```
https://downloads.mysql.com/archives/get/p/23/file/mysql-5.7.44-winx64.zip
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –∞—Ä—Ö–∏–≤:
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://downloads.mysql.com/archives/community/
2. Product Version: **5.7.44**
3. Operating System: **Microsoft Windows**
4. OS Version: **Windows (x86, 64-bit), ZIP Archive**
5. –°–∫–∞—á–∞–π—Ç–µ: `mysql-5.7.44-winx64.zip` (~350 MB)

---

### –®–∞–≥ 2: –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å (1 –º–∏–Ω—É—Ç–∞)

```powershell
# –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –∞—Ä—Ö–∏–≤ –≤ C:\mysql57
# –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:
# C:\mysql57\bin\
# C:\mysql57\lib\
# C:\mysql57\share\
```

**–í–∞–∂–Ω–æ:** –ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–º–µ–Ω–Ω–æ `C:\mysql57`, –Ω–µ `C:\mysql57\mysql-5.7.44-winx64`!

---

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç—å MySQL 5.7 —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (2 –º–∏–Ω—É—Ç—ã)

```powershell
# –û—Ç–∫—Ä—ã—Ç—å PowerShell –æ—Ç –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê
cd C:\mysql57\bin

# –ó–∞–ø—É—Å—Ç–∏—Ç—å MySQL 5.7 —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ C:\python\sites_mysql
.\mysqld.exe --datadir=C:\python\sites_mysql --console
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
```
[Note] mysqld: ready for connections.
Version: '5.7.44'  socket: ''  port: 3306
```

‚úÖ –û—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã—Ç—ã–º!

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (1 –º–∏–Ω—É—Ç–∞)

**–û—Ç–∫—Ä–æ–π—Ç–µ –ù–û–í–û–ï –æ–∫–Ω–æ PowerShell:**

```powershell
cd C:\mysql57\bin

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
.\mysql.exe -u root

# –í MySQL –∫–æ–Ω—Å–æ–ª–∏:
USE enb;
SHOW TABLES;
SELECT COUNT(*) FROM user;
SELECT COUNT(*) FROM companies;
SELECT COUNT(*) FROM advert;
```

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
```
+---------------+
| COUNT(*)      |
+---------------+
|          1234 |  <- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
+---------------+
```

‚úÖ –î–∞–Ω–Ω—ã–µ —á–∏—Ç–∞—é—Ç—Å—è!

---

### –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø (5 –º–∏–Ω—É—Ç)

**–í —Ç–æ–º –∂–µ –æ–∫–Ω–µ PowerShell:**

```powershell
# –í—ã–π—Ç–∏ –∏–∑ MySQL –∫–æ–Ω—Å–æ–ª–∏
exit

# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π –¥–∞–º–ø
.\mysqldump.exe -u root --skip-lock-tables --complete-insert --single-transaction enb > C:\python\edu-na-bazar\enb_real_dump.sql
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä:**
```powershell
cd C:\python\edu-na-bazar
dir enb_real_dump.sql
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ MB** (–Ω–µ 883 –±–∞–π—Ç–∞ –∫–∞–∫ —Å–µ–π—á–∞—Å!)

---

### –®–∞–≥ 6: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MySQL 5.7 (1 –º–∏–Ω—É—Ç–∞)

**–í –ø–µ—Ä–≤–æ–º –æ–∫–Ω–µ PowerShell (–≥–¥–µ –∑–∞–ø—É—â–µ–Ω mysqld):**
```
–ù–∞–∂–∞—Ç—å Ctrl+C
```

–ò–ª–∏:
```powershell
# –í –Ω–æ–≤–æ–º –æ–∫–Ω–µ
taskkill /F /IM mysqld.exe
```

---

### –®–∞–≥ 7: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ MariaDB (3 –º–∏–Ω—É—Ç—ã)

```powershell
cd C:\python\edu-na-bazar

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É
"C:\Program Files\MariaDB 12.1\bin\mysql.exe" -u root -proot -e "DROP DATABASE IF EXISTS enb; CREATE DATABASE enb CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø
"C:\Program Files\MariaDB 12.1\bin\mysql.exe" -u root -proot enb < enb_real_dump.sql
```

---

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ MariaDB (1 –º–∏–Ω—É—Ç–∞)

```powershell
.\check_enb.bat
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
–¢–∞–±–ª–∏—Ü–∞              –ó–∞–ø–∏—Å–µ–π
user                    1234
companies                567
advert                  5678
...
```

‚úÖ –î–∞–Ω–Ω—ã–µ –≤ MariaDB!

---

### –®–∞–≥ 9: –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ PostgreSQL (5 –º–∏–Ω—É—Ç)

```powershell
cd backend\scripts
python migrate_data.py
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
```
========================================
üë§ –ú–ò–ì–†–ê–¶–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô
========================================
üìä –ù–∞–π–¥–µ–Ω–æ 1234 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ: 1234

========================================
üìÅ –ú–ò–ì–†–ê–¶–ò–Ø –ö–ê–¢–ï–ì–û–†–ò–ô
========================================
...
```

---

## ‚è±Ô∏è –ò—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

| –®–∞–≥ | –í—Ä–µ–º—è |
|-----|-------|
| –°–∫–∞—á–∞—Ç—å MySQL 5.7 | 5 –º–∏–Ω |
| –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å | 1 –º–∏–Ω |
| –ó–∞–ø—É—Å—Ç–∏—Ç—å MySQL 5.7 | 2 –º–∏–Ω |
| –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ | 1 –º–∏–Ω |
| –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø | 5 –º–∏–Ω |
| –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MySQL 5.7 | 1 –º–∏–Ω |
| –ò–º–ø–æ—Ä—Ç –≤ MariaDB | 3 –º–∏–Ω |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ | 1 –º–∏–Ω |
| –ú–∏–≥—Ä–∞—Ü–∏—è –≤ PostgreSQL | 5 –º–∏–Ω |
| **–í–°–ï–ì–û** | **~25 –º–∏–Ω—É—Ç** |

---

## üéØ –ü–û–ß–ï–ú–£ –î–†–£–ì–ò–ï –°–ü–û–°–û–ë–´ –ù–ï –†–ê–ë–û–¢–ê–Æ–¢

### ‚ùå –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ .ibd —Ñ–∞–π–ª–æ–≤ –≤ MariaDB
- –§–æ—Ä–º–∞—Ç InnoDB –∏–∑–º–µ–Ω–∏–ª—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
- MariaDB 12.1 –Ω–µ —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã MySQL 5.7
- –¢–∞–±–ª–∏—Ü—ã –≤–∏–¥–Ω—ã, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

### ‚ùå –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è .ibd —Ñ–∞–π–ª–æ–≤
- –ù–µ—Ç –Ω–∞–¥—ë–∂–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –†–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- –°–ª–æ–∂–Ω–æ –∏ –¥–æ–ª–≥–æ

### ‚úÖ MySQL 5.7 ‚Üí –î–∞–º–ø ‚Üí MariaDB
- 100% –Ω–∞–¥—ë–∂–Ω–æ
- –ë—ã—Å—Ç—Ä–æ (25 –º–∏–Ω—É—Ç)
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (portable)
- –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å MySQL 5.7 –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üìù –ö—Ä–∞—Ç–∫–∞—è —à–ø–∞—Ä–≥–∞–ª–∫–∞

```bash
# 1. –°–∫–∞—á–∞—Ç—å –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å MySQL 5.7 –≤ C:\mysql57

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –¥–∞–Ω–Ω—ã–º–∏
C:\mysql57\bin\mysqld.exe --datadir=C:\python\sites_mysql

# 3. –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø (–≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ)
C:\mysql57\bin\mysqldump.exe -u root --skip-lock-tables enb > enb_real_dump.sql

# 4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å MySQL 5.7 (Ctrl+C)

# 5. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ MariaDB
mysql -u root -proot enb < enb_real_dump.sql

# 6. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ PostgreSQL
cd backend\scripts
python migrate_data.py
```

---

## ‚úÖ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤ MariaDB (–±–∞–∑–∞ enb)
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤ PostgreSQL (–±–∞–∑–∞ edu_na_bazar)
- ‚úÖ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å MySQL 5.7

**–ù–∞—á–∏–Ω–∞–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ

–°–∫–∞—á–∞—Ç—å MySQL 5.7.44:
https://downloads.mysql.com/archives/get/p/23/file/mysql-5.7.44-winx64.zip
