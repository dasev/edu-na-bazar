# üõ°Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SolarappScreener (–†–¢–ö)

## –ß—Ç–æ —Ç–∞–∫–æ–µ SolarappScreener?

**SolarappScreener** - —ç—Ç–æ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Å–∫–∞–Ω–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –æ—Ç –†–æ—Å—Ç–µ–ª–µ–∫–æ–º, —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –§–°–¢–≠–ö –∏ –§–°–ë.

### –û—Ç–ª–∏—á–∏—è –æ—Ç SonarQube

| –ü–∞—Ä–∞–º–µ—Ç—Ä | SolarappScreener | SonarQube |
|----------|------------------|-----------|
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å | –†–æ—Å—Ç–µ–ª–µ–∫–æ–º (–†–§) | SonarSource (–º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π) |
| –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è | –§–°–¢–≠–ö, –§–°–ë | OWASP, CWE |
| –õ–∏—Ü–µ–Ω–∑–∏—è | –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è | Open Source + Commercial |
| –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã | –ì–û–°–¢, –†–î –†–¢–ö | ISO, OWASP Top 10 |
| –Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ | –†—É—Å—Å–∫–∏–π | –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (–µ—Å—Ç—å —Ä—É—Å–∏—Ñ–∏–∫–∞—Ü–∏—è) |

## üìã –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±–ª–∞—á–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –†–¢–ö

1. **–ü–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ SolarappScreener:**
   - –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –†–¢–ö –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏
   - –ü–æ–ª—É—á–∏—Ç–µ URL —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://solar.rtk.ru`)
   - –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

Windows (PowerShell):
```powershell
$env:SONAR_HOST_URL = "https://solar.rtk.ru"
$env:SONAR_TOKEN = "–≤–∞—à-—Ç–æ–∫–µ–Ω-–æ—Ç-—Ä—Ç–∫"
```

Windows (CMD):
```cmd
set SONAR_HOST_URL=https://solar.rtk.ru
set SONAR_TOKEN=–≤–∞—à-—Ç–æ–∫–µ–Ω-–æ—Ç-—Ä—Ç–∫
```

Linux/Mac:
```bash
export SONAR_HOST_URL="https://solar.rtk.ru"
export SONAR_TOKEN="–≤–∞—à-—Ç–æ–∫–µ–Ω-–æ—Ç-—Ä—Ç–∫"
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑:**
```cmd
sonar-scanner.bat
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ SonarQube (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ SolarappScreener, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SonarQube –ª–æ–∫–∞–ª—å–Ω–æ:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker:**
   - Windows: Docker Desktop
   - Linux: `sudo apt-get install docker.io`

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ SonarQube:**
```bash
docker run -d --name sonarqube -p 9000:9000 sonarqube:latest
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```cmd
set SONAR_HOST_URL=http://localhost:9000
set SONAR_TOKEN=admin
```

4. **–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:**
   - URL: http://localhost:9000
   - Login: admin
   - Password: admin (—Å–º–µ–Ω–∏—Ç–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ)

5. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω:**
   - My Account ‚Üí Security ‚Üí Generate Token
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `SONAR_TOKEN`

## üöÄ –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞

### Windows
```cmd
sonar-scanner.bat
```

### Linux/Mac
```bash
chmod +x run-sonar-analysis.sh
./run-sonar-analysis.sh
```

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### SolarappScreener (–†–¢–ö)
1. –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –†–¢–ö
2. –í–æ–π–¥–∏—Ç–µ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `edu-na-bazar`
4. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –æ—Ç—á–µ—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### SonarQube (–ª–æ–∫–∞–ª—å–Ω—ã–π)
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:9000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Projects ‚Üí edu-na-bazar
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–§–∞–π–ª `sonar-project.properties` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

```properties
sonar.projectKey=edu-na-bazar
sonar.projectName=Edu Na Bazar
sonar.sources=backend/api,frontend/src

# –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
sonar.exclusions=**/scripts/**,**/alembic/**

# –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π SQLAlchemy
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S1523
```

## üõ°Ô∏è –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (Blocker):**
   - SQL Injection
   - XSS (Cross-Site Scripting)
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ eval/exec
   - Hardcoded credentials

2. **–í—ã—Å–æ–∫–∏–µ (Critical):**
   - –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
   - Path Traversal
   - Command Injection
   - –°–ª–∞–±–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ

3. **–°—Ä–µ–¥–Ω–∏–µ (Major):**
   - –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
   - –£—Ç–µ—á–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

4. **–ù–∏–∑–∫–∏–µ (Minor):**
   - Code smells
   - –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
   - –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

## ‚úÖ –ù–∞—à–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. ‚úÖ **–ù–µ—Ç eval/exec** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ SQLAlchemy
2. ‚úÖ **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –∑–∞—â–∏—Ç–∞ –æ—Ç SQL Injection
3. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ wrapper —Ñ—É–Ω–∫—Ü–∏–∏** - `backend/api/utils/db_safe.py`
4. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–∫–ª—é—á–µ–Ω–∏–π** - `sonar-project.properties`
5. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - `SECURITY_SONAR.md`

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü—Ä–æ–±–ª–µ–º—ã —Å SolarappScreener:
- –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –†–¢–ö: support@rtk.ru
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://solarappscreener.ru/docs

### –ü—Ä–æ–±–ª–µ–º—ã —Å SonarQube:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://docs.sonarqube.org/
- Community: https://community.sonarsource.com/

## üéØ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∞—É–¥–∏—Ç–æ–º

- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `sonar-scanner.bat`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á–µ—Ç –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ Blocker –∏ Critical
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å `SECURITY_SONAR.md` –¥–ª—è –∞—É–¥–∏—Ç–æ—Ä–æ–≤
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `sonar.exclusions` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –∞–Ω–∞–ª–∏–∑–∞

## üìù –ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞ –¥–ª—è –†–¢–ö

–ü–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –∞—É–¥–∏—Ç–æ—Ä–∞–º:

1. **–°–∫—Ä–∏–Ω—à–æ—Ç –¥–∞—à–±–æ—Ä–¥–∞** —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
2. **–§–∞–π–ª `SECURITY_SONAR.md`** —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏
3. **–°–ø–∏—Å–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π**
4. **–ü–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–∞–º–µ—á–∞–Ω–∏–π**

---

**–ì–æ—Ç–æ–≤–æ –∫ –∞—É–¥–∏—Ç—É –†–¢–ö!** ‚úÖ
