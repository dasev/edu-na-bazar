# üöÄ –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö - –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

## ‚ùó –í–ê–ñ–ù–û

**–í–∞–º –ù–ï –Ω—É–∂–µ–Ω MySQL 5.7!**  
–£ –≤–∞—Å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ **MariaDB 12.1** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë!

---

## ‚ö° –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (1 –∫–æ–º–∞–Ω–¥–∞)

```bash
full_migration.bat
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MariaDB
2. ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–∞–∑—É `enb` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö

**–í—Ä–µ–º—è:** 10-15 –º–∏–Ω—É—Ç

---

## üìã –ü–æ—à–∞–≥–æ–≤—ã–π —Å–ø–æ—Å–æ–± (3 –∫–æ–º–∞–Ω–¥—ã)

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
test_mariadb_connection.bat
```

### –®–∞–≥ 2: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
restore_old_database.bat
```

### –®–∞–≥ 3: –ú–∏–≥—Ä–∞—Ü–∏—è
```bash
cd backend\scripts
python migrate_data.py
```

---

## üìä –ß—Ç–æ –±—É–¥–µ—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ

| –°—Ç–∞—Ä–∞—è —Ç–∞–±–ª–∏—Ü–∞ | ‚Üí | –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ | –ó–∞–ø–∏—Å–µ–π |
|---------------|---|---------------|---------|
| `user` | ‚Üí | `config.users` | ~1000+ |
| `categories` | ‚Üí | `market.categories` | ~50+ |
| `companies` | ‚Üí | `market.store_owners` | ~500+ |
| `advert` | ‚Üí | `market.products` | ~5000+ |
| `file` | ‚Üí | `market.product_images` | ~10000+ |

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ï—Å–ª–∏ –ø–∞—Ä–æ–ª—å MariaDB –ù–ï "root"

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `backend\scripts\migrate_data.py`:

```python
MYSQL_CONFIG = {
    'password': '–í–ê–®_–ü–ê–†–û–õ–¨',  # ‚Üê –ò–∑–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
    ...
}
```

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### ‚ùå "Access denied"
```bash
# –°–±—Ä–æ—Å—å—Ç–µ –ø–∞—Ä–æ–ª—å
mysql -u root
ALTER USER 'root'@'localhost' IDENTIFIED BY 'root';
FLUSH PRIVILEGES;
```

### ‚ùå "Can't connect"
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ MariaDB
net start MariaDB
```

### ‚ùå "Database 'enb' doesn't exist"
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∞–∑—É
restore_old_database.bat
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend
cd backend
uvicorn main:app --reload

# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:8000/docs

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ
GET /api/products
GET /api/categories
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ! üéâ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **MIGRATE_NOW.txt** - –®–ø–∞—Ä–≥–∞–ª–∫–∞ (3 —à–∞–≥–∞)
- **MIGRATION_README.md** - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- **MIGRATION_QUICK_START.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **MIGRATION_ANALYSIS.md** - –ê–Ω–∞–ª–∏–∑ —Ç–∞–±–ª–∏—Ü

---

## üéØ –ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!

```bash
full_migration.bat
```

–ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:
```bash
1. test_mariadb_connection.bat
2. restore_old_database.bat
3. cd backend\scripts && python migrate_data.py
```

**–í—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏!** üöÄ
