# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤ Docker

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è, —Ö–æ—Ç—è —Ñ–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ —Ö–æ—Å—Ç–µ –≤ `backend/uploads/products/original/`.

## –ü—Ä–∏—á–∏–Ω–∞

–í `docker-compose.dev.yml` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è **named volume** –≤–º–µ—Å—Ç–æ **bind mount**:

```yaml
# ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (named volume)
volumes:
  - backend_uploads:/app/uploads
```

Named volume —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Docker, –∫–æ—Ç–æ—Ä–æ–µ –Ω–µ —Å–≤—è–∑–∞–Ω–æ —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ —Ö–æ—Å—Ç–µ.

## –†–µ—à–µ–Ω–∏–µ

–ó–∞–º–µ–Ω–∏—Ç—å named volume –Ω–∞ bind mount –≤ `docker-compose.dev.yml`:

```yaml
# ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (bind mount)
volumes:
  - ./backend/uploads:/app/uploads
```

## –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É volume —Ç–∏–ø–∞–º–∏

### Named Volume
```yaml
volumes:
  - backend_uploads:/app/uploads  # –û—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Docker
```
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Docker
- ‚ùå –ù–µ —Å–≤—è–∑–∞–Ω —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ —Ö–æ—Å—Ç–µ
- üëç –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production (–ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)

### Bind Mount
```yaml
volumes:
  - ./backend/uploads:/app/uploads  # –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º —Ö–æ—Å—Ç–∞
```
- ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º —Ö–æ—Å—Ç–∞
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –Ω–∞ —Ö–æ—Å—Ç–µ
- üëç –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è development (hot-reload)

## –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Development
```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –Ω–æ–≤—ã–º volume
docker-compose -f docker-compose.dev.yml up -d --force-recreate backend
```

### Production
–í production –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è named volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –§–∞–π–ª—ã –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ volume:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ volume
docker cp ./backend/uploads/products/. edu-na-bazar-backend:/app/uploads/products/

# –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bind mount (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è prod)
# –ò–∑–º–µ–Ω–∏—Ç—å docker-compose.yml –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ dev –≤–µ—Ä—Å–∏–∏
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker-compose -f docker-compose.dev.yml exec backend ls -la /app/uploads/products/original/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ API
curl http://localhost:8000/uploads/products/original/021a631edfe6b4b3a2bcc0ab7df444d1.jpg
```

## –ò—Ç–æ–≥

‚úÖ **Development**: Bind mount –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º  
‚úÖ **Production**: Named volume –¥–ª—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (—Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ)

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ**: 25.11.2025
