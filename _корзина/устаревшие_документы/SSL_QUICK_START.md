# üöÄ SSL - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## ‚ö° –ó–∞ 5 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –ü—Ä–∏–≤—è–∂–∏—Ç–µ –¥–æ–º–µ–Ω –∫ —Å–µ—Ä–≤–µ—Ä—É

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º –¥–æ–±–∞–≤—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏:

```
–¢–∏–ø    –ò–º—è    –ó–Ω–∞—á–µ–Ω–∏–µ           TTL
A      @      176.99.5.211       3600
A      www    176.99.5.211       3600
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
nslookup edunabazar.ru
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: 176.99.5.211
```

‚è∞ –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-60 –º–∏–Ω—É—Ç –ø–æ–∫–∞ DNS —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—Å—è.

---

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
```powershell
# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp setup_ssl.sh root@176.99.5.211:/opt/edu-na-bazar/
# –ü–∞—Ä–æ–ª—å: sIAS6APDsKh0bL
```

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
ssh root@176.99.5.211
# –ü–∞—Ä–æ–ª—å: sIAS6APDsKh0bL

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/edu-na-bazar

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç
bash setup_ssl.sh

# –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º:
# 1. –í–≤–µ—Å—Ç–∏ –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä: edunabazar.ru)
# 2. –í–≤–µ—Å—Ç–∏ email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
# 3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å (y)
```

**–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç DNS
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Certbot
- ‚úÖ –ü–æ–ª—É—á–∏—Ç SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç nginx-ssl.conf
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç .env (HTTPS URLs)
- ‚úÖ –ü–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://edunabazar.ru
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- ‚úÖ –ó–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫ üîí
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç —Å HTTP –Ω–∞ HTTPS

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ SSL Labs:**
https://www.ssllabs.com/ssltest/analyze.html?d=edunabazar.ru

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ü–µ–Ω–∫–∞: **A –∏–ª–∏ A+**

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à —Å–∞–π—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ HTTPS —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 90 –¥–Ω–µ–π.

---

## üìã –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª)

–°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é: [SSL_SETUP.md](SSL_SETUP.md)

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### DNS –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
nslookup edunabazar.ru

# –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ–¥–æ–∂–¥–∞—Ç—å –µ—â–µ
# DNS –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –¥–æ 48 —á–∞—Å–æ–≤
```

### –ü–æ—Ä—Ç 80 –∑–∞–Ω—è—Ç
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
netstat -tulpn | grep :80

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
kill -9 <PID>

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞
bash setup_ssl.sh
```

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f frontend

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç
ls -la /etc/letsencrypt/live/edunabazar.ru/

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose restart frontend
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [SSL_SETUP.md](SSL_SETUP.md) - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs -f`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS: `nslookup edunabazar.ru`
